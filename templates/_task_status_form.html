{# templates/_task_status_form.html #}
<form
  hx-post="{{ url_for('edit_status', task_id=t.id) }}"
  hx-target="closest td"
  hx-swap="innerHTML"
  class="inline-flex items-center gap-2"
>
  <select name="status" required class="border rounded px-2 py-1 text-sm">
    {% set options = ["Not Started", "In Progress", "Complete"] %}
    {% for s in options %}
      <option value="{{ s }}" {{ 'selected' if t.status.value == s else '' }}>{{ s }}</option>
    {% endfor %}
  </select>

  <button type="submit" class="px-2 py-1 rounded text-sm bg-slate-800 text-white hover:bg-slate-700">
    Save
  </button>

  <button
    type="button"
    hx-get="{{ url_for('view_status', task_id=t.id) }}"
    hx-target="closest td"
    hx-swap="innerHTML"
    class="px-2 py-1 rounded text-sm border hover:bg-slate-50"
  >
    Cancel
  </button>

  {% if error %}
    <span class="text-red-600 text-sm">{{ error }}</span>
  {% endif %}
</form>
