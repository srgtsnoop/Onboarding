{# templates/_task_notes_form.html #}
<form
  hx-post="{{ url_for('update_notes', task_id=t.id, as_user=user.email) }}"
  hx-target="closest td"
  hx-swap="innerHTML"
  class="w-full"
>
  <textarea
    name="notes"
    rows="3"
    class="w-full text-sm border rounded-md p-1"
    autofocus
  >{{ t.notes or "" }}</textarea>

  <div class="mt-2 flex gap-2">
    <button type="submit" class="btn btn-primary btn-sm" onclick="event.stopPropagation();">
      Save
    </button>

    <button
      type="button"
      class="btn btn-sm"
      onclick="event.stopPropagation();"
      hx-post="{{ url_for('update_notes', task_id=t.id, as_user=user.email) }}"
      hx-target="closest td"
      hx-swap="innerHTML"
    >
      Cancel
    </button>
  </div>
</form>
