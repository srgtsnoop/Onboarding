{# templates/_task_status_form.html #}
<form
  hx-post="{{ url_for('update_status', task_id=t.id) }}"
  hx-target="closest td"
  hx-swap="innerHTML"
  class="inline-block"
>
  <select
    name="status"
    class="border rounded px-2 py-1 text-sm"
    hx-trigger="change"
  >
    {% set options = ['Not Started', 'In Progress', 'Complete'] %}
    {% set current = (t.status.value if t.status else 'Not Started') %}
    {% for s in options %}
      <option value="{{ s }}" {% if current == s %}selected{% endif %}>
        {{ s }}
      </option>
    {% endfor %}
  </select>

  {# Optional: show an error if validation failed #}
  {% if error %}
    <div class="text-red-500 text-xs mt-1">
      {{ error }}
    </div>
  {% endif %}
</form>
{# templates/_task_status_form.html #}