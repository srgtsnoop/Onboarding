<tr id="task-{{ t.id }}" class="align-top task-row editing">
  <td class="col-goal align-top">
    <div class="goal-title fw-semibold">{{ t.title or t.goal }}</div>
    {% if t.topic %}
      <div class="goal-topic text-muted small mt-1">
        <span class="text-secondary">Topic:</span>
        {{ t.topic | replace('\n','<br>') | safe }}
      </div>
    {% endif %}
  </td>

  <td class="col-notes" colspan="2">
    <form
      hx-post="{{ url_for('update_notes', task_id=t.id) }}"
      hx-target="#task-{{ t.id }}"
      hx-swap="outerHTML"
      class="mt-2"
    >
      <textarea name="notes" rows="5" class="form-control">{{ t.notes or '' }}</textarea>
      <div class="mt-2">
        <button class="btn btn-sm btn-primary">Save</button>
        <a class="btn btn-sm btn-secondary ms-2"
           hx-get="{{ url_for('view_notes', task_id=t.id) }}"
           hx-target="#task-{{ t.id }}"
           hx-swap="outerHTML">Cancel</a>
      </div>
    </form>
  </td>
</tr>
